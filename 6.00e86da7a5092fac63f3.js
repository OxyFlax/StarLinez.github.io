(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{"4Kb5":function(e,t,a){"use strict";a.r(t),a.d(t,"MaplestoryDailiesModule",function(){return G});var i=a("ofXK"),n=a("tyNb"),s=a("5uKv"),l=a("fXoL"),r=a("jhN1"),c=a("/SLC"),o=a("3Pt+"),d=a("i0ov");function g(e,t){if(1&e&&(l.Lb(0,"p",14),l.lc(1,"Reset in "),l.Hb(2,"br"),l.lc(3),l.Kb()),2&e){const e=l.Vb();l.wb(3),l.nc(" ",e.timerString,"")}}function b(e,t){if(1&e&&(l.Lb(0,"option",18),l.lc(1),l.Kb()),2&e){const e=t.$implicit,a=l.Vb(2);l.Yb("selected",a.resetUtcOffset==e.resetUtcOffset),l.wb(1),l.mc(e.name)}}function m(e,t){if(1&e){const e=l.Mb();l.Lb(0,"div",15),l.lc(1," Region: "),l.Lb(2,"select",16),l.Sb("change",function(t){return l.gc(e),l.Vb().regionChange(t)}),l.kc(3,b,2,2,"option",17),l.Kb(),l.Kb()}if(2&e){const e=l.Vb();l.wb(3),l.Yb("ngForOf",e.regions)}}function u(e,t){1&e&&(l.Lb(0,"p",19),l.lc(1,"Edit mode active, click on the names of dailies to disable them (this will prevent them from showing up outside of the edit mode)"),l.Hb(2,"br"),l.lc(3,"Adding custom dailies is possible with the option at the bottom of each list (custom dailies cannot be disabled but are instead removed)"),l.Kb())}function p(e,t){if(1&e){const e=l.Mb();l.Lb(0,"div",20),l.Lb(1,"div",21),l.Lb(2,"label",22),l.lc(3,"Character Name"),l.Kb(),l.Lb(4,"input",23),l.Sb("ngModelChange",function(t){l.gc(e);const a=l.Vb();return a.dailies[a.characterIndex].characterName=t}),l.Kb(),l.Kb(),l.Kb()}if(2&e){const e=l.Vb();l.wb(4),l.Yb("ngModel",e.dailies[e.characterIndex].characterName)}}function h(e,t){1&e&&(l.Lb(0,"div"),l.lc(1,' All dailies are disabled, click on the "Edit Dailies" button to enable dailies. '),l.Kb())}function f(e,t){if(1&e){const e=l.Mb();l.Lb(0,"input",34),l.Sb("ngModelChange",function(t){return l.gc(e),l.Vb(2).$implicit.completed=t})("change",function(){return l.gc(e),l.Vb(4).dailiesChangeHandler()}),l.Kb()}if(2&e){const e=l.Vb(2),t=e.index,a=e.$implicit;l.ac("name","dailyQuest",t,""),l.ac("id","dailyQuest",t,""),l.Yb("ngModel",a.completed)}}function y(e,t){if(1&e){const e=l.Mb();l.Lb(0,"div",35),l.Lb(1,"i",36),l.Sb("click",function(){l.gc(e);const t=l.Vb(2).index;return l.Vb(2).moveDailyBoss(t,"up")}),l.Kb(),l.Lb(2,"i",37),l.Sb("click",function(){l.gc(e);const t=l.Vb(2).index;return l.Vb(2).moveDailyBoss(t,"down")}),l.Kb(),l.Kb()}}function v(e,t){if(1&e){const e=l.Mb();l.Lb(0,"div",28),l.Lb(1,"div",29),l.Hb(2,"img",30),l.Kb(),l.Lb(3,"label",31),l.Sb("click",function(){l.gc(e);const t=l.Vb().index;return l.Vb(2).disableDailyBoss(t)}),l.lc(4),l.Kb(),l.Lb(5,"div",20),l.kc(6,f,1,3,"input",32),l.kc(7,y,3,0,"div",33),l.Kb(),l.Kb()}if(2&e){const e=l.Vb(),t=e.$implicit,a=e.index,i=l.Vb(2);l.Yb("ngClass",t.enabled?"enabledTask":"disabledTask"),l.wb(2),l.Zb("alt",t.name),l.Yb("src","custom"!=t.type?"assets/Games/Maplestory/Dailies/"+t.image:t.image,l.hc),l.wb(1),l.ac("for","dailyQuest",a,""),l.wb(1),l.mc(t.name),l.wb(2),l.Yb("ngIf",!i.editModeActive),l.wb(1),l.Yb("ngIf",i.editModeActive)}}function C(e,t){if(1&e&&(l.Jb(0),l.kc(1,v,8,7,"div",27),l.Ib()),2&e){const e=t.$implicit,a=l.Vb(2);l.wb(1),l.Yb("ngIf",e.enabled||a.editModeActive)}}function k(e,t){if(1&e){const e=l.Mb();l.Lb(0,"div",38),l.Sb("click",function(){return l.gc(e),l.Vb(2).addCustomDaily("boss")}),l.Lb(1,"div",29),l.Hb(2,"img",39),l.Kb(),l.Lb(3,"label"),l.lc(4,"Add Custom Daily"),l.Kb(),l.Lb(5,"div",20),l.Lb(6,"div",40),l.Hb(7,"i",41),l.Kb(),l.Kb(),l.Kb()}}function M(e,t){if(1&e&&(l.Lb(0,"div",24),l.Lb(1,"p"),l.lc(2,"Daily Bosses"),l.Kb(),l.kc(3,C,2,1,"ng-container",25),l.kc(4,k,8,0,"div",26),l.Kb()),2&e){const e=l.Vb();l.wb(3),l.Yb("ngForOf",e.dailies[e.characterIndex].dailyBosses),l.wb(1),l.Yb("ngIf",e.editModeActive)}}function x(e,t){if(1&e&&(l.Lb(0,"span",43),l.lc(1),l.Kb()),2&e){const e=l.Vb(4);l.wb(1),l.oc("",e.ursusTimerPrefix," ",e.ursusTimerString,"")}}function T(e,t){if(1&e){const e=l.Mb();l.Lb(0,"input",34),l.Sb("ngModelChange",function(t){return l.gc(e),l.Vb(2).$implicit.completed=t})("change",function(){return l.gc(e),l.Vb(4).dailiesChangeHandler()}),l.Kb()}if(2&e){const e=l.Vb(2),t=e.index,a=e.$implicit;l.ac("name","dailyTask",t,""),l.ac("id","dailyTask",t,""),l.Yb("ngModel",a.completed)}}function I(e,t){if(1&e){const e=l.Mb();l.Lb(0,"div",35),l.Lb(1,"i",36),l.Sb("click",function(){l.gc(e);const t=l.Vb(2).index;return l.Vb(2).moveDailyTask(t,"up")}),l.Kb(),l.Lb(2,"i",37),l.Sb("click",function(){l.gc(e);const t=l.Vb(2).index;return l.Vb(2).moveDailyTask(t,"down")}),l.Kb(),l.Kb()}}const D=function(e,t,a){return{enabledTask:e,disabledTask:t,ursusTaskWrapper:a}};function A(e,t){if(1&e){const e=l.Mb();l.Lb(0,"div",28),l.Lb(1,"div",29),l.Hb(2,"img",30),l.Kb(),l.Lb(3,"label",31),l.Sb("click",function(){l.gc(e);const t=l.Vb().index;return l.Vb(2).disableDailyTask(t)}),l.lc(4),l.Kb(),l.kc(5,x,2,2,"span",42),l.Lb(6,"div",20),l.kc(7,T,1,3,"input",32),l.kc(8,I,3,0,"div",33),l.Kb(),l.Kb()}if(2&e){const e=l.Vb(),t=e.$implicit,a=e.index,i=l.Vb(2);l.Yb("ngClass",l.dc(8,D,t.enabled,!t.enabled,"Golden Time ending in"==i.ursusTimerPrefix&&"Ursus"==t.name&&0==i.resetUtcOffset)),l.wb(2),l.Zb("alt",t.name),l.Yb("src","custom"!=t.type?"assets/Games/Maplestory/Dailies/"+t.image:t.image,l.hc),l.wb(1),l.ac("for","dailyTask",a,""),l.wb(1),l.mc(t.name),l.wb(1),l.Yb("ngIf","Ursus"==t.name&&0==i.resetUtcOffset),l.wb(2),l.Yb("ngIf",!i.editModeActive),l.wb(1),l.Yb("ngIf",i.editModeActive)}}function w(e,t){if(1&e&&(l.Jb(0),l.kc(1,A,9,12,"div",27),l.Ib()),2&e){const e=t.$implicit,a=l.Vb(2);l.wb(1),l.Yb("ngIf",e.enabled||a.editModeActive)}}function O(e,t){if(1&e){const e=l.Mb();l.Lb(0,"div",38),l.Sb("click",function(){return l.gc(e),l.Vb(2).addCustomDaily("task")}),l.Lb(1,"div",29),l.Hb(2,"img",39),l.Kb(),l.Lb(3,"label"),l.lc(4,"Add Custom Daily"),l.Kb(),l.Lb(5,"div",20),l.Lb(6,"div",40),l.Hb(7,"i",41),l.Kb(),l.Kb(),l.Kb()}}function P(e,t){if(1&e&&(l.Lb(0,"div",24),l.Lb(1,"p"),l.lc(2,"Daily Tasks"),l.Kb(),l.kc(3,w,2,1,"ng-container",25),l.kc(4,O,8,0,"div",26),l.Kb()),2&e){const e=l.Vb();l.wb(3),l.Yb("ngForOf",e.dailies[e.characterIndex].dailyTasks),l.wb(1),l.Yb("ngIf",e.editModeActive)}}function L(e,t){if(1&e){const e=l.Mb();l.Lb(0,"input",34),l.Sb("ngModelChange",function(t){return l.gc(e),l.Vb(2).$implicit.completed=t})("change",function(){return l.gc(e),l.Vb(4).dailiesChangeHandler()}),l.Kb()}if(2&e){const e=l.Vb(2),t=e.index,a=e.$implicit;l.ac("name","dailyArcaneRiver",t,""),l.ac("id","dailyArcaneRiver",t,""),l.Yb("ngModel",a.completed)}}function S(e,t){if(1&e){const e=l.Mb();l.Lb(0,"div",35),l.Lb(1,"i",36),l.Sb("click",function(){l.gc(e);const t=l.Vb(2).index;return l.Vb(2).moveDailyArcaneRiver(t,"up")}),l.Kb(),l.Lb(2,"i",37),l.Sb("click",function(){l.gc(e);const t=l.Vb(2).index;return l.Vb(2).moveDailyArcaneRiver(t,"down")}),l.Kb(),l.Kb()}}function K(e,t){if(1&e){const e=l.Mb();l.Lb(0,"div",28),l.Lb(1,"div",29),l.Hb(2,"img",30),l.Kb(),l.Lb(3,"label",31),l.Sb("click",function(){l.gc(e);const t=l.Vb().index;return l.Vb(2).disableDailyArcaneRiver(t)}),l.lc(4),l.Kb(),l.Lb(5,"div",20),l.kc(6,L,1,3,"input",32),l.kc(7,S,3,0,"div",33),l.Kb(),l.Kb()}if(2&e){const e=l.Vb(),t=e.$implicit,a=e.index,i=l.Vb(2);l.Yb("ngClass",t.enabled?"enabledTask":"disabledTask"),l.wb(2),l.Zb("alt",t.name),l.Yb("src","custom"!=t.type?"assets/Games/Maplestory/Dailies/"+t.image:t.image,l.hc),l.wb(1),l.ac("for","dailyArcaneRiver",a,""),l.wb(1),l.mc(t.name),l.wb(2),l.Yb("ngIf",!i.editModeActive),l.wb(1),l.Yb("ngIf",i.editModeActive)}}function R(e,t){if(1&e&&(l.Jb(0),l.kc(1,K,8,7,"div",27),l.Ib()),2&e){const e=t.$implicit,a=l.Vb(2);l.wb(1),l.Yb("ngIf",e.enabled||a.editModeActive)}}function B(e,t){if(1&e){const e=l.Mb();l.Lb(0,"div",38),l.Sb("click",function(){return l.gc(e),l.Vb(2).addCustomDaily("arcane river")}),l.Lb(1,"div",29),l.Hb(2,"img",39),l.Kb(),l.Lb(3,"label"),l.lc(4,"Add Custom Daily"),l.Kb(),l.Lb(5,"div",20),l.Lb(6,"div",40),l.Hb(7,"i",41),l.Kb(),l.Kb(),l.Kb()}}function V(e,t){if(1&e&&(l.Lb(0,"div",24),l.Lb(1,"p"),l.lc(2,"Arcane River Dailies"),l.Kb(),l.kc(3,R,2,1,"ng-container",25),l.kc(4,B,8,0,"div",26),l.Kb()),2&e){const e=l.Vb();l.wb(3),l.Yb("ngForOf",e.dailies[e.characterIndex].dailyArcaneRiver),l.wb(1),l.Yb("ngIf",e.editModeActive)}}function U(e,t){if(1&e){const e=l.Mb();l.Lb(0,"div",44),l.Lb(1,"div",45),l.Lb(2,"div",20),l.Lb(3,"div",21),l.Lb(4,"label",46),l.lc(5),l.Kb(),l.Lb(6,"input",47),l.Sb("ngModelChange",function(t){return l.gc(e),l.Vb().customDailyName=t})("keyup.enter",function(){return l.gc(e),l.Vb().confirmAddingCustomDaily()}),l.Kb(),l.Kb(),l.Lb(7,"div",21),l.Lb(8,"label",48),l.lc(9,"Optional custom image url"),l.Kb(),l.Lb(10,"input",49),l.Sb("ngModelChange",function(t){return l.gc(e),l.Vb().customDailyImageUrl=t})("keyup.enter",function(){return l.gc(e),l.Vb().confirmAddingCustomDaily()}),l.Kb(),l.Kb(),l.Kb(),l.Lb(11,"div",50),l.Lb(12,"button",51),l.Sb("click",function(){return l.gc(e),l.Vb().confirmAddingCustomDaily()}),l.lc(13,"Confirm"),l.Kb(),l.Lb(14,"button",52),l.Sb("click",function(){return l.gc(e),l.Vb().cancelAddingCustomDaily()}),l.lc(15,"Cancel"),l.Kb(),l.Kb(),l.Kb(),l.Kb()}if(2&e){const e=l.Vb();l.wb(5),l.nc("Custom ",e.customDailyType," daily name"),l.wb(1),l.Yb("ngModel",e.customDailyName),l.wb(4),l.Yb("ngModel",e.customDailyImageUrl)}}const _=[{path:"",component:(()=>{class e{constructor(e,t){this.titleService=e,this.metaService=t,this.regions=[{resetUtcOffset:0,name:"GMS"},{resetUtcOffset:8,name:"MSEA"},{resetUtcOffset:9,name:"KMS"}],this.selectedRegionIndex=0,this.resetUtcOffset=0,this.characterIndex=0,this.dailies=[],this.allDailyBossesDisabled=!1,this.allDailyTasksDisabled=!1,this.allDailyArcaneRiverDisabled=!1,this.editModeActive=!1,this.editButtonMessage="Edit Dailies",this.addingCustomDaily=!1,this.customDailyType="",this.customDailyName="",this.customDailyImageUrl=""}ngOnInit(){this.titleService.setTitle("Maplestory Dailies Tracker | Random Stuff"),this.metaService.updateTag({name:"description",content:"A dailies tracker for Maplestory to keep track of your completed daily tasks. Keep track of your dailies across multiple different characters."}),this.metaService.getTag("name='robots'")?this.metaService.updateTag({name:"robots",content:"index, follow"}):this.metaService.addTag({name:"robots",content:"index, follow"}),this.initialise()}ngOnDestroy(){this.timer&&clearInterval(this.timer),this.ursusTimer&&clearInterval(this.ursusTimer)}initialise(){localStorage.getItem("mapleRegion")&&(this.selectedRegionIndex=JSON.parse(localStorage.getItem("mapleRegion")),this.resetUtcOffset=this.regions[this.selectedRegionIndex].resetUtcOffset),localStorage.getItem("dailies")?(this.dailies=JSON.parse(localStorage.getItem("dailies")),this.checkIfDataIsFromPreviousDay(),this.updateChecker(),this.checkIfDailyGroupsAreFullyDisabled()):(this.initiateData(),localStorage.setItem("lastMapleDailyTrackerVisit",Date.now().toString())),this.startTimer(),0==this.resetUtcOffset&&this.startUrsusTimer()}initiateData(){var e={characterName:"",dailyBosses:s.dailyBosses,dailyTasks:s.dailyTasks,dailyArcaneRiver:s.dailyArcaneRiver};for(let t=0;t<4;t++)e.characterName="Char"+(t+1),this.dailies[t]=JSON.parse(JSON.stringify(e));localStorage.setItem("dailiesVersion",s.version),this.dailiesChangeHandler()}updateChecker(){if(localStorage.getItem("dailiesVersion")!=s.version){var e=JSON.parse(localStorage.getItem("dailies"));this.initiateData();var t=JSON.parse(JSON.stringify(this.dailies));for(let a=0;a<this.dailies.length;a++){this.dailies[a].characterName=e[a].characterName,this.dailies[a].dailyBosses=[];for(let i=0;i<e[a].dailyBosses.length;i++)if("custom"!=e[a].dailyBosses[i].type&&"Custom.png"!=e[a].dailyBosses[i].image)for(let n=0;n<t[a].dailyBosses.length;n++)e[a].dailyBosses[i].name==t[a].dailyBosses[n].name&&(this.dailies[a].dailyBosses.push({name:e[a].dailyBosses[i].name,image:t[a].dailyBosses[n].image,completed:e[a].dailyBosses[i].completed,enabled:e[a].dailyBosses[i].enabled,type:t[a].dailyBosses[n].type}),t[a].dailyBosses.splice(n,1));else e[a].dailyBosses[i].type="custom","Custom.png"==e[a].dailyBosses[i].image&&(e[a].dailyBosses[i].image="assets/Games/Maplestory/Dailies/Custom.png"),this.dailies[a].dailyBosses.push(e[a].dailyBosses[i]);for(let e=0;e<t[a].dailyBosses.length;e++)this.dailies[a].dailyBosses.push({name:t[a].dailyBosses[e].name,image:t[a].dailyBosses[e].image,completed:t[a].dailyBosses[e].completed,enabled:t[a].dailyBosses[e].enabled,type:t[a].dailyBosses[e].type});this.dailies[a].dailyTasks=[];for(let i=0;i<e[a].dailyTasks.length;i++)if("custom"!=e[a].dailyTasks[i].type&&"Custom.png"!=e[a].dailyTasks[i].image)for(let n=0;n<t[a].dailyTasks.length;n++)e[a].dailyTasks[i].name==t[a].dailyTasks[n].name&&(this.dailies[a].dailyTasks.push({name:e[a].dailyTasks[i].name,image:t[a].dailyTasks[n].image,completed:e[a].dailyTasks[i].completed,enabled:e[a].dailyTasks[i].enabled,type:t[a].dailyTasks[n].type}),t[a].dailyTasks.splice(n,1));else e[a].dailyTasks[i].type="custom","Custom.png"==e[a].dailyTasks[i].image&&(e[a].dailyTasks[i].image="assets/Games/Maplestory/Dailies/Custom.png"),this.dailies[a].dailyTasks.push(e[a].dailyTasks[i]);for(let e=0;e<t[a].dailyTasks.length;e++)this.dailies[a].dailyTasks.push({name:t[a].dailyTasks[e].name,image:t[a].dailyTasks[e].image,completed:t[a].dailyTasks[e].completed,enabled:t[a].dailyTasks[e].enabled,type:t[a].dailyTasks[e].type});this.dailies[a].dailyArcaneRiver=[];for(let i=0;i<e[a].dailyArcaneRiver.length;i++)if("custom"!=e[a].dailyArcaneRiver[i].type&&"Custom.png"!=e[a].dailyArcaneRiver[i].image)for(let n=0;n<t[a].dailyArcaneRiver.length;n++)e[a].dailyArcaneRiver[i].name==t[a].dailyArcaneRiver[n].name&&(this.dailies[a].dailyArcaneRiver.push({name:e[a].dailyArcaneRiver[i].name,image:t[a].dailyArcaneRiver[n].image,completed:e[a].dailyArcaneRiver[i].completed,enabled:e[a].dailyArcaneRiver[i].enabled,type:t[a].dailyArcaneRiver[n].type}),t[a].dailyArcaneRiver.splice(n,1));else e[a].dailyArcaneRiver[i].type="custom","Custom.png"==e[a].dailyArcaneRiver[i].image&&(e[a].dailyArcaneRiver[i].image="assets/Games/Maplestory/Dailies/Custom.png"),this.dailies[a].dailyArcaneRiver.push(e[a].dailyArcaneRiver[i]);for(let e=0;e<t[a].dailyArcaneRiver.length;e++)this.dailies[a].dailyArcaneRiver.push({name:t[a].dailyArcaneRiver[e].name,image:t[a].dailyArcaneRiver[e].image,completed:t[a].dailyArcaneRiver[e].completed,enabled:t[a].dailyArcaneRiver[e].enabled,type:t[a].dailyArcaneRiver[e].type})}this.dailiesChangeHandler(),localStorage.setItem("dailiesVersion",s.version)}}checkIfDataIsFromPreviousDay(){new Date;var e=this.calculateResetTime()-864e5;(localStorage.getItem("lastMapleDailyTrackerVisit")?localStorage.getItem("lastMapleDailyTrackerVisit"):0)<e&&this.resetCompletedValues(),localStorage.setItem("lastMapleDailyTrackerVisit",Date.now().toString())}regionChange(e){this.selectedRegionIndex=e.target.selectedIndex,this.resetUtcOffset=this.regions[e.target.selectedIndex].resetUtcOffset,localStorage.setItem("mapleRegion",JSON.stringify(this.selectedRegionIndex)),this.initialise()}dailiesChangeHandler(){localStorage.setItem("dailies",JSON.stringify(this.dailies))}changeCharacter(e){this.characterIndex=e,this.checkIfDailyGroupsAreFullyDisabled()}disableDailyBoss(e){this.editModeActive&&("custom"!=this.dailies[this.characterIndex].dailyBosses[e].type&&"Custom.png"!=this.dailies[this.characterIndex].dailyBosses[e].image?this.dailies[this.characterIndex].dailyBosses[e].enabled=!this.dailies[this.characterIndex].dailyBosses[e].enabled:this.dailies[this.characterIndex].dailyBosses.splice(e,1))}disableDailyTask(e){this.editModeActive&&("custom"!=this.dailies[this.characterIndex].dailyTasks[e].type&&"Custom.png"!=this.dailies[this.characterIndex].dailyTasks[e].image?this.dailies[this.characterIndex].dailyTasks[e].enabled=!this.dailies[this.characterIndex].dailyTasks[e].enabled:this.dailies[this.characterIndex].dailyTasks.splice(e,1))}disableDailyArcaneRiver(e){this.editModeActive&&("custom"!=this.dailies[this.characterIndex].dailyArcaneRiver[e].type&&"Custom.png"!=this.dailies[this.characterIndex].dailyArcaneRiver[e].image?this.dailies[this.characterIndex].dailyArcaneRiver[e].enabled=!this.dailies[this.characterIndex].dailyArcaneRiver[e].enabled:this.dailies[this.characterIndex].dailyArcaneRiver.splice(e,1))}toggleEditMode(){this.editModeActive?(this.editModeActive=!1,this.editButtonMessage="Edit Dailies",this.dailiesChangeHandler(),this.checkIfDailyGroupsAreFullyDisabled()):(this.editModeActive=!0,this.editButtonMessage="Exit Edit Mode")}startTimer(){clearInterval(this.timer);var e=this.calculateResetTime();this.calculateAndOutPutTime(e-(new Date).getTime()),this.timer=setInterval(()=>{var t=e-(new Date).getTime();this.calculateAndOutPutTime(t),t<0&&(clearInterval(this.timer),this.liveReset())},1e3)}startUrsusTimer(){clearInterval(this.ursusTimer);var e=this.determineUrsusEndTime();this.calculateAndOutPutUrsusTime(e-(new Date).getTime()),this.ursusTimer=setInterval(()=>{var t=e-(new Date).getTime();this.calculateAndOutPutUrsusTime(t),t<0&&(clearInterval(this.timer),this.startUrsusTimer())},1e3)}determineUrsusEndTime(){var e=new Date,t=3,a=20;return e.getTime()<16117056e5&&(t=5,a=22),e.getUTCHours()<1?(this.ursusTimerPrefix="Golden Time in ",Date.UTC(e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate(),1,0,0,0)):e.getUTCHours()>=1&&e.getUTCHours()<t?(this.ursusTimerPrefix="Golden Time ending in",Date.UTC(e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate(),t,0,0,0)):e.getUTCHours()>=t&&e.getUTCHours()<18?(this.ursusTimerPrefix="Golden Time in",Date.UTC(e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate(),18,0,0,0)):e.getUTCHours()>=18&&e.getUTCHours()<a?(this.ursusTimerPrefix="Golden Time ending in",Date.UTC(e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate(),a,0,0,0)):e.getUTCHours()>=a?(this.ursusTimerPrefix="Golden Time in ",Date.UTC(e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate()+1,1,0,0,0)):void 0}calculateResetTime(){var e=new Date,t=Date.UTC(e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate()+1,0,0,0,0);return(t-=60*this.resetUtcOffset*60*1e3)<e.getTime()&&(t+=864e5),t}calculateAndOutPutTime(e){if(e<0)this.timerString="RESET!";else{var t=Math.floor(e%864e5/36e5),a=Math.floor(e%36e5/6e4),i=Math.floor(e%6e4/1e3);this.timerString=t+"h "+a+"m "+("00"+i).slice(-2)+"s "}}calculateAndOutPutUrsusTime(e){var t=Math.floor(e%864e5/36e5),a=Math.floor(e%36e5/6e4),i=Math.floor(e%6e4/1e3);this.ursusTimerString=t+"h "+a+"m "+("00"+i).slice(-2)+"s "}resetCompletedValues(){this.dailies.forEach(e=>{e.dailyBosses.forEach(e=>{e.completed=!1}),e.dailyTasks.forEach(e=>{e.completed=!1}),e.dailyArcaneRiver.forEach(e=>{e.completed=!1})}),this.dailiesChangeHandler()}liveReset(){this.resetCompletedValues(),this.startTimer(),localStorage.setItem("lastMapleDailyTrackerVisit",(parseInt(Date.now().toString())+5e3).toString())}moveDailyBoss(e,t){if("up"==t){if(0==e)return;var a=this.dailies[this.characterIndex].dailyBosses[e-1];this.dailies[this.characterIndex].dailyBosses[e-1]=this.dailies[this.characterIndex].dailyBosses[e],this.dailies[this.characterIndex].dailyBosses[e]=a}if("down"==t){if(e+1==this.dailies[this.characterIndex].dailyBosses.length)return;a=this.dailies[this.characterIndex].dailyBosses[e+1],this.dailies[this.characterIndex].dailyBosses[e+1]=this.dailies[this.characterIndex].dailyBosses[e],this.dailies[this.characterIndex].dailyBosses[e]=a}}moveDailyTask(e,t){if("up"==t){if(0==e)return;var a=this.dailies[this.characterIndex].dailyTasks[e-1];this.dailies[this.characterIndex].dailyTasks[e-1]=this.dailies[this.characterIndex].dailyTasks[e],this.dailies[this.characterIndex].dailyTasks[e]=a}if("down"==t){if(e+1==this.dailies[this.characterIndex].dailyTasks.length)return;a=this.dailies[this.characterIndex].dailyTasks[e+1],this.dailies[this.characterIndex].dailyTasks[e+1]=this.dailies[this.characterIndex].dailyTasks[e],this.dailies[this.characterIndex].dailyTasks[e]=a}}moveDailyArcaneRiver(e,t){if("up"==t){if(0==e)return;var a=this.dailies[this.characterIndex].dailyArcaneRiver[e-1];this.dailies[this.characterIndex].dailyArcaneRiver[e-1]=this.dailies[this.characterIndex].dailyArcaneRiver[e],this.dailies[this.characterIndex].dailyArcaneRiver[e]=a}if("down"==t){if(e+1==this.dailies[this.characterIndex].dailyArcaneRiver.length)return;a=this.dailies[this.characterIndex].dailyArcaneRiver[e+1],this.dailies[this.characterIndex].dailyArcaneRiver[e+1]=this.dailies[this.characterIndex].dailyArcaneRiver[e],this.dailies[this.characterIndex].dailyArcaneRiver[e]=a}}checkIfDailyGroupsAreFullyDisabled(){this.allDailyBossesDisabled=!this.dailies[this.characterIndex].dailyBosses.some(e=>e.enabled),this.allDailyTasksDisabled=!this.dailies[this.characterIndex].dailyTasks.some(e=>e.enabled),this.allDailyArcaneRiverDisabled=!this.dailies[this.characterIndex].dailyArcaneRiver.some(e=>e.enabled)}addCustomDaily(e){this.addingCustomDaily=!0,this.customDailyType=e}confirmAddingCustomDaily(){if(""!=this.customDailyName){""==this.customDailyImageUrl&&(this.customDailyImageUrl="assets/Games/Maplestory/Dailies/Custom.png");var e={name:this.customDailyName,image:this.customDailyImageUrl,completed:!1,enabled:!0,type:"custom"};"boss"==this.customDailyType&&this.dailies[this.characterIndex].dailyBosses.push(e),"task"==this.customDailyType&&this.dailies[this.characterIndex].dailyTasks.push(e),"arcane river"==this.customDailyType&&this.dailies[this.characterIndex].dailyArcaneRiver.push(e),this.dailiesChangeHandler(),this.addingCustomDaily=!1,this.customDailyName="",this.customDailyImageUrl=""}}cancelAddingCustomDaily(){this.addingCustomDaily=!1,this.customDailyName="",this.customDailyImageUrl=""}}return e.\u0275fac=function(t){return new(t||e)(l.Gb(r.c),l.Gb(r.b))},e.\u0275cmp=l.Ab({type:e,selectors:[["app-maplestory-dailies"]],decls:26,vars:19,consts:[[1,"gamePageContent"],[1,"topBar"],["class","timer",4,"ngIf"],["class","regionSelector",4,"ngIf"],[1,"title"],[1,"editButton",3,"click"],[1,"characterNavigationBar"],[3,"ngClass","click"],["class","editModeMessage",4,"ngIf"],["class","inputWrapper",4,"ngIf"],[1,"dailyGroups"],[4,"ngIf"],["class","taskGroupWrapper",4,"ngIf"],["class","customNameInputWrapper","scrollTo","",4,"ngIf"],[1,"timer"],[1,"regionSelector"],[1,"select",3,"change"],["value","r.resetUtcOffset",3,"selected",4,"ngFor","ngForOf"],["value","r.resetUtcOffset",3,"selected"],[1,"editModeMessage"],[1,"inputWrapper"],[1,"characterNameInput"],["for","characterName"],["type","text","id","characterName","name","characterName","maxlength","12",1,"textInput",3,"ngModel","ngModelChange"],[1,"taskGroupWrapper"],[4,"ngFor","ngForOf"],["class","taskWrapper addTask",3,"click",4,"ngIf"],["class","taskWrapper",3,"ngClass",4,"ngIf"],[1,"taskWrapper",3,"ngClass"],[1,"imgWrapper"],["onerror","this.onerror=null; this.src='assets/Games/Maplestory/Dailies/Custom.png'",3,"src","alt"],[3,"for","click"],["type","checkbox",3,"name","id","ngModel","ngModelChange","change",4,"ngIf"],["class","orderChanger",4,"ngIf"],["type","checkbox",3,"name","id","ngModel","ngModelChange","change"],[1,"orderChanger"],[1,"fa","fa-caret-up","fa-2x",3,"click"],[1,"fa","fa-caret-down","fa-2x",3,"click"],[1,"taskWrapper","addTask",3,"click"],["src","assets/Games/Maplestory/Dailies/Custom.png","alt","custom"],[1,"taskAdder"],[1,"fa","fa-plus","fa-2x"],["class","ursusCountdown","style","pointer-events:none",4,"ngIf"],[1,"ursusCountdown",2,"pointer-events","none"],["scrollTo","",1,"customNameInputWrapper"],[1,"customNameInput"],["for","customName"],["type","text","id","customName","name","customName","maxlength","30",1,"textInput",3,"ngModel","ngModelChange","keyup.enter"],["for","customUrl"],["type","text","id","customUrl","name","customUrl",1,"textInput",3,"ngModel","ngModelChange","keyup.enter"],[1,"buttonWrapper"],[1,"buttonStyle","left",3,"click"],[1,"buttonStyle","right",3,"click"]],template:function(e,t){1&e&&(l.Hb(0,"app-maplestory-side-navigation"),l.Lb(1,"div",0),l.Lb(2,"div",1),l.kc(3,g,4,1,"p",2),l.kc(4,m,4,1,"div",3),l.Lb(5,"p",4),l.lc(6),l.Kb(),l.Lb(7,"button",5),l.Sb("click",function(){return t.toggleEditMode()}),l.lc(8),l.Kb(),l.Kb(),l.Lb(9,"div",6),l.Lb(10,"a",7),l.Sb("click",function(){return t.changeCharacter(0)}),l.lc(11),l.Kb(),l.Lb(12,"a",7),l.Sb("click",function(){return t.changeCharacter(1)}),l.lc(13),l.Kb(),l.Lb(14,"a",7),l.Sb("click",function(){return t.changeCharacter(2)}),l.lc(15),l.Kb(),l.Lb(16,"a",7),l.Sb("click",function(){return t.changeCharacter(3)}),l.lc(17),l.Kb(),l.Kb(),l.kc(18,u,4,0,"p",8),l.kc(19,p,5,1,"div",9),l.Lb(20,"div",10),l.kc(21,h,2,0,"div",11),l.kc(22,M,5,2,"div",12),l.kc(23,P,5,2,"div",12),l.kc(24,V,5,2,"div",12),l.Kb(),l.kc(25,U,16,3,"div",13),l.Kb()),2&e&&(l.wb(3),l.Yb("ngIf",!t.editModeActive),l.wb(1),l.Yb("ngIf",t.editModeActive),l.wb(2),l.nc("Daily Tracker ",t.dailies[t.characterIndex].characterName,""),l.wb(2),l.mc(t.editButtonMessage),l.wb(2),l.Yb("ngClass",0==t.characterIndex?"selected":"notSelected"),l.wb(1),l.mc(t.dailies[0].characterName),l.wb(1),l.Yb("ngClass",1==t.characterIndex?"selected":"notSelected"),l.wb(1),l.mc(t.dailies[1].characterName),l.wb(1),l.Yb("ngClass",2==t.characterIndex?"selected":"notSelected"),l.wb(1),l.mc(t.dailies[2].characterName),l.wb(1),l.Yb("ngClass",3==t.characterIndex?"selected":"notSelected"),l.wb(1),l.mc(t.dailies[3].characterName),l.wb(1),l.Yb("ngIf",t.editModeActive),l.wb(1),l.Yb("ngIf",t.editModeActive),l.wb(2),l.Yb("ngIf",t.allDailyBossesDisabled&&t.allDailyTasksDisabled&&t.allDailyArcaneRiverDisabled&&!t.editModeActive),l.wb(1),l.Yb("ngIf",!t.allDailyBossesDisabled||t.editModeActive),l.wb(1),l.Yb("ngIf",!t.allDailyTasksDisabled||t.editModeActive),l.wb(1),l.Yb("ngIf",!t.allDailyArcaneRiverDisabled||t.editModeActive),l.wb(1),l.Yb("ngIf",t.editModeActive&&t.addingCustomDaily))},directives:[c.a,i.k,i.i,i.j,o.i,o.l,o.b,o.d,o.e,o.h,o.a,d.a],styles:[".gamePageContent[_ngcontent-%COMP%], .taskWrapper[_ngcontent-%COMP%]{position:relative}.taskWrapper[_ngcontent-%COMP%]{width:250px;height:54px;margin:5px 0;padding:5px;border-radius:10px}.taskWrapper[_ngcontent-%COMP%]   .imgWrapper[_ngcontent-%COMP%]{position:relative;float:left;width:52px;height:52px}.taskWrapper[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{position:absolute;max-width:50px;max-height:50px;top:0;bottom:0;left:0;right:0;margin:auto}.ursusTaskWrapper[_ngcontent-%COMP%]{box-shadow:inset 0 0 15px 0 #f9d77e}.taskWrapper[_ngcontent-%COMP%]   .ursusCountdown[_ngcontent-%COMP%]{position:absolute;bottom:0;left:0;right:0;margin-left:19px;padding-bottom:5px;font-size:12px}.taskWrapper[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{width:165px}.taskWrapper[_ngcontent-%COMP%]   .inputWrapper[_ngcontent-%COMP%], .taskWrapper[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:flex;float:left;height:100%;justify-content:center;align-items:center}.taskWrapper[_ngcontent-%COMP%]   .inputWrapper[_ngcontent-%COMP%]{width:25px}.disableMode[_ngcontent-%COMP%]{width:100px;height:50px}.enabledTask[_ngcontent-%COMP%]{border:1px solid var(--navigation-bar-settings-icon-font-color)}.disabledTask[_ngcontent-%COMP%]{border:1px solid red}.addTask[_ngcontent-%COMP%]{border:1px solid var(--game-page-accent-color)}.taskGroupWrapper[_ngcontent-%COMP%]{display:inline-block;margin:0 7px}.taskGroupWrapper[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{text-align:center;margin:0 0 5px;font-size:20px}.dailyGroups[_ngcontent-%COMP%]{width:100%;height:100%;overflow:hidden;text-align:center}.topBar[_ngcontent-%COMP%]{width:100%;height:50px;position:relative}.topBar[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{text-align:center;font-size:25px;text-decoration:underline;margin:5px 0 0}.topBar[_ngcontent-%COMP%]   .editButton[_ngcontent-%COMP%]{background-color:var(--game-page-accent-color);border:none;color:#fff;padding:5px 8px;text-align:center;font-size:16px;margin:3px 8px 0 0;outline:none;position:absolute;top:0;right:0;cursor:pointer}.editModeMessage[_ngcontent-%COMP%]{color:red;margin:0 0 10px;text-align:center}.timer[_ngcontent-%COMP%]{text-align:center;font-size:16px;padding:3px;border:2px solid var(--game-page-border-color)}.regionSelector[_ngcontent-%COMP%], .timer[_ngcontent-%COMP%]{position:absolute;top:0;left:0;margin:3px 0 0 8px}.regionSelector[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{width:80px;margin:0}.characterNavigationBar[_ngcontent-%COMP%]{width:100%;margin-top:4px;margin-bottom:12px;text-align:center;overflow-wrap:break-word}.characterNavigationBar[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{padding:2px 4px;margin:4px 4px 0;font-size:18px;display:inline-block}.characterNavigationBar[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{cursor:pointer}.notSelected[_ngcontent-%COMP%]{border:2px solid var(--game-page-border-color)}.selected[_ngcontent-%COMP%]{border:2px solid var(--game-page-accent-color)}.inputWrapper[_ngcontent-%COMP%]{text-align:center;margin-bottom:10px}.characterNameInput[_ngcontent-%COMP%]{display:inline-block;margin-top:3px}.characterNameInput[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;text-align:center;font-size:15px}.characterNameInput[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{display:block;margin-top:3px;text-align:center;width:180px}.orderChanger[_ngcontent-%COMP%], .taskAdder[_ngcontent-%COMP%]{color:var(--navigation-bar-settings-icon-font-color)}.customNameInputWrapper[_ngcontent-%COMP%]{position:absolute;background-color:var(--custom-task-input-wrapper-color);width:100%;height:100%;z-index:50;top:0}.customNameInput[_ngcontent-%COMP%]{width:250px;height:170px;background-color:var(--custom-task-input-color);border-radius:4px;position:absolute;margin:auto;top:300px;left:0;right:0;border:2px solid var(--custom-task-input-border-color)}.customNameInput[_ngcontent-%COMP%]   .input[_ngcontent-%COMP%]{width:100%;height:100%;margin:0 auto}.customNameInput[_ngcontent-%COMP%]   .buttonStyle[_ngcontent-%COMP%]{width:80px}.buttonWrapper[_ngcontent-%COMP%]{width:175px;margin:0 auto}.buttonWrapper[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin:0}.buttonWrapper[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%]{float:left}.buttonWrapper[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]{float:right}.customNameInput[_ngcontent-%COMP%]   .characterNameInput[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:220px}@media only screen and (max-width:950px){.topBar[_ngcontent-%COMP%]{height:83px}.topBar[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{padding-top:48px}}"]}),e})()}];let N=(()=>{class e{}return e.\u0275mod=l.Eb({type:e}),e.\u0275inj=l.Db({factory:function(t){return new(t||e)},imports:[[n.d.forChild(_)],n.d]}),e})();var Y=a("I9VR");let G=(()=>{class e{}return e.\u0275mod=l.Eb({type:e}),e.\u0275inj=l.Db({factory:function(t){return new(t||e)},imports:[[i.b,N,Y.a]]}),e})()},"5uKv":function(e){e.exports=JSON.parse('{"version":"4.2","dailyBosses":[{"name":"Zakum","image":"Zakum.png","completed":false,"enabled":true,"type":"default"},{"name":"Horntail","image":"Horntail.png","completed":false,"enabled":true,"type":"default"},{"name":"Hilla","image":"Hilla.png","completed":false,"enabled":true,"type":"default"},{"name":"Crimson Queen","image":"CrimsonQueen.png","completed":false,"enabled":true,"type":"default"},{"name":"Pierre","image":"Pierre.png","completed":false,"enabled":true,"type":"default"},{"name":"Von Bon","image":"VonBon.png","completed":false,"enabled":true,"type":"default"},{"name":"Vellum","image":"Vellum.png","completed":false,"enabled":true,"type":"default"},{"name":"Von Leon","image":"VonLeon.png","completed":false,"enabled":true,"type":"default"},{"name":"Arkarium","image":"Arkarium.png","completed":false,"enabled":true,"type":"default"},{"name":"Magnus","image":"Magnus.png","completed":false,"enabled":true,"type":"default"},{"name":"Pink Bean","image":"PinkBean.png","completed":false,"enabled":true,"type":"default"},{"name":"Mori Ranmaru","image":"MoriRanmaru.png","completed":false,"enabled":true,"type":"default"},{"name":"Papulatus","image":"Papulatus.png","completed":false,"enabled":true,"type":"default"},{"name":"Gollux","image":"Gollux.png","completed":false,"enabled":true,"type":"default"},{"name":"Julieta","image":"Julieta.png","completed":false,"enabled":true,"type":"default"},{"name":"OMNI-CLN","image":"OMNI-CLN.png","completed":false,"enabled":true,"type":"default"}],"dailyTasks":[{"name":"Monster Park","image":"MonsterPark.png","completed":false,"enabled":true,"type":"default"},{"name":"Ursus","image":"Ursus.png","completed":false,"enabled":true,"type":"default"},{"name":"Maple Tour","image":"MapleTour.png","completed":false,"enabled":true,"type":"default"},{"name":"Legion","image":"Legion.png","completed":false,"enabled":true,"type":"default"},{"name":"Daily Gift","image":"DailyGift.png","completed":false,"enabled":true,"type":"default"},{"name":"Commerci","image":"Commerci.png","completed":false,"enabled":true,"type":"default"},{"name":"Phantom Forest","image":"PhantomForest.png","completed":false,"enabled":true,"type":"default"},{"name":"Yu Garden","image":"YuGarden.png","completed":false,"enabled":true,"type":"default"},{"name":"Awake Coin Capping","image":"Event/Awake/AwakeCoin.png","completed":false,"enabled":true,"type":"event"},{"name":"Sage Rock Training Grounds","image":"Event/Awake/SageRockTrainingGrounds.png","completed":false,"enabled":true,"type":"event"}],"dailyArcaneRiver":[{"name":"Vanishing Journey Dailies","image":"VanishingJourney.png","completed":false,"enabled":true,"type":"default"},{"name":"Chu Chu Dailies","image":"ChuChu.png","completed":false,"enabled":true,"type":"default"},{"name":"Lachelein Dailies","image":"Lachelein.png","completed":false,"enabled":true,"type":"default"},{"name":"Arcana Dailies","image":"Arcana.png","completed":false,"enabled":true,"type":"default"},{"name":"Morass Dailies","image":"Morass.png","completed":false,"enabled":true,"type":"default"},{"name":"Esfera Dailies","image":"Esfera.png","completed":false,"enabled":true,"type":"default"}]}')}}]);