(window.webpackJsonp=window.webpackJsonp||[]).push([[13],{Bp9J:function(e){e.exports=JSON.parse('{"version":"9.1","imagePrefix":"MapleDailies/","taskGroups":[{"title":"Daily Bosses","tasks":[{"name":"Zakum","image":"Zakum.png","done":false,"enabled":true,"type":"default","dispCon":"true"},{"name":"Horntail","image":"Horntail.png","done":false,"enabled":true,"type":"default","dispCon":"true"},{"name":"Hilla","image":"Hilla.png","done":false,"enabled":true,"type":"default","dispCon":"true"},{"name":"Crimson Queen","image":"CrimsonQueen.png","done":false,"enabled":true,"type":"default","dispCon":"true"},{"name":"Pierre","image":"Pierre.png","done":false,"enabled":true,"type":"default","dispCon":"true"},{"name":"Von Bon","image":"VonBon.png","done":false,"enabled":true,"type":"default","dispCon":"true"},{"name":"Vellum","image":"Vellum.png","done":false,"enabled":true,"type":"default","dispCon":"true"},{"name":"Von Leon","image":"VonLeon.png","done":false,"enabled":true,"type":"default","dispCon":"true"},{"name":"Arkarium","image":"Arkarium.png","done":false,"enabled":true,"type":"default","dispCon":"true"},{"name":"Magnus","image":"Magnus.png","done":false,"enabled":true,"type":"default","dispCon":"true"},{"name":"Pink Bean","image":"PinkBean.png","done":false,"enabled":true,"type":"default","dispCon":"true"},{"name":"Mori Ranmaru","image":"MoriRanmaru.png","done":false,"enabled":true,"type":"default","dispCon":"true"},{"name":"Papulatus","image":"Papulatus.png","done":false,"enabled":true,"type":"default","dispCon":"true"},{"name":"Gollux","image":"Gollux.png","done":false,"enabled":true,"type":"default","dispCon":"true"},{"name":"OMNI-CLN","image":"OMNI-CLN.png","done":false,"enabled":true,"type":"default","dispCon":"true"}],"allDisabled":false},{"title":"Daily Tasks","tasks":[{"name":"Monster Park","image":"MonsterPark.png","done":false,"enabled":true,"type":"default","dispCon":"true"},{"name":"Ursus","image":"Ursus.png","done":false,"enabled":true,"type":"default","dispCon":"true"},{"name":"Maple Tour","image":"MapleTour.png","done":false,"enabled":true,"type":"default","dispCon":"true"},{"name":"Legion","image":"Legion.png","done":false,"enabled":true,"type":"default","dispCon":"true"},{"name":"Daily Gift","image":"DailyGift.png","done":false,"enabled":true,"type":"default","dispCon":"true"},{"name":"Commerci","image":"Commerci.png","done":false,"enabled":true,"type":"default","dispCon":"true"},{"name":"Phantom Forest","image":"PhantomForest.png","done":false,"enabled":true,"type":"default","dispCon":"true"},{"name":"Yu Garden","image":"YuGarden.png","done":false,"enabled":true,"type":"default","dispCon":"true"},{"name":"Wongstaurant Coin Capping","image":"Event/Savior/Coin.png","done":false,"enabled":true,"type":"default","dispCon":"new Date().getTime() < 1693353599000"},{"name":"Wongstaurant Secret Week","image":"Event/Savior/Mushroom.png","done":false,"enabled":true,"type":"default","dispCon":"new Date().getTime() > 1689811200000 && new Date().getTime() < 1690329599000"},{"name":"Wongstaurant Special Delivery","image":"Event/Savior/Yeti.png","done":false,"enabled":true,"type":"default","dispCon":"new Date().getTime() > 1690329600000 && new Date().getTime() < 1690934399000"},{"name":"Wongstaurant Healing Spa","image":"Event/Savior/Slime.png","done":false,"enabled":true,"type":"default","dispCon":"new Date().getTime() > 1690934400000 && new Date().getTime() < 1691539199000"},{"name":"Wongstaurant Challenge Week","image":"Event/Savior/Wave.png","done":false,"enabled":true,"type":"default","dispCon":"new Date().getTime() > 1691539200000 && new Date().getTime() < 1692143999000"},{"name":"Wongstaurant Last Order","image":"Event/Savior/Wonky.png","done":false,"enabled":true,"type":"default","dispCon":"new Date().getTime() > 1692144000000 && new Date().getTime() < 1693353599000"}],"allDisabled":false},{"title":"Arcane River Dailies","tasks":[{"name":"Vanishing Journey Daily","image":"VanishingJourney.png","done":false,"enabled":true,"type":"default","dispCon":"true"},{"name":"Chu Chu Daily","image":"ChuChu.png","done":false,"enabled":true,"type":"default","dispCon":"true"},{"name":"Lachelein Daily","image":"Lachelein.png","done":false,"enabled":true,"type":"default","dispCon":"true"},{"name":"Arcana Daily","image":"Arcana.png","done":false,"enabled":true,"type":"default","dispCon":"true"},{"name":"Morass Daily","image":"Morass.png","done":false,"enabled":true,"type":"default","dispCon":"true"},{"name":"Esfera Daily","image":"Esfera.png","done":false,"enabled":true,"type":"default","dispCon":"true"},{"name":"Tenebris  Research","image":"Tenebris.png","done":false,"enabled":true,"type":"default","dispCon":"true"}],"allDisabled":false},{"title":"Grandis Dailies","tasks":[{"name":"Cernium Daily","image":"Cernium.png","done":false,"enabled":true,"type":"default","dispCon":"true"},{"name":"Burning Cernium Daily","image":"BurningCernium.png","done":false,"enabled":true,"type":"default","dispCon":"true"},{"name":"Arcus Daily","image":"Arcus.png","done":false,"enabled":true,"type":"default","dispCon":"true"},{"name":"Odium Daily","image":"Odium.png","done":false,"enabled":true,"type":"default","dispCon":"true"}],"allDisabled":false}]}')},U8VO:function(e,t,a){"use strict";a.r(t),a.d(t,"MaplestoryDailiesV3Module",function(){return M});var n=a("ofXK"),i=a("tyNb"),s=a("Bp9J"),r=a("fXoL"),l=a("jhN1"),o=a("tyAY"),d=a("/SLC"),p=a("kN8N"),u=a("Iwn8"),c=a("Ajqu");function g(e,t){if(1&e){const e=r.Pb();r.Ob(0,"div",8),r.Ob(1,"p"),r.qc(2,"The daily tracker has been updated!"),r.Kb(3,"br"),r.Kb(4,"br"),r.qc(5," The new Wongstaurant dailies have been added, the different weekly events will automatically appear when they are live in-game."),r.Kb(6,"br"),r.Kb(7,"br"),r.qc(8," If you are experiencing issues press the reset button to reset your saved data, if everything is working you can press the dismiss button."),r.Kb(9,"br"),r.qc(10," If this does not resolve your issue please contact me on discord, my username is StarLines. "),r.Nb(),r.Ob(11,"button",9),r.Vb("click",function(){return r.lc(e),r.Yb().infoReset()}),r.qc(12,"Reset Data"),r.Nb(),r.Ob(13,"button",9),r.Vb("click",function(){return r.lc(e),r.Yb().infoDismiss()}),r.qc(14,"Dismiss"),r.Nb(),r.Nb()}}function m(e,t){if(1&e){const e=r.Pb();r.Ob(0,"app-task-topbar-default",10),r.Vb("changeEvent",function(){return r.lc(e),r.Yb().changeHandler()}),r.Nb()}if(2&e){const e=r.Yb();r.bc("taskData",e.dailiesData)("topBarTitle","Daily Tracker")("editButtonTitle","Dailies")}}function f(e,t){if(1&e){const e=r.Pb();r.Ob(0,"app-task-topbar-editmode",11),r.Vb("changeEvent",function(){return r.lc(e),r.Yb().changeHandler()})("regionChangeEvent",function(){return r.lc(e),r.Yb().regionChangeHandler()})("addCharacterEvent",function(){return r.lc(e),r.Yb().addCharacter()}),r.Nb()}if(2&e){const e=r.Yb();r.bc("taskData",e.dailiesData)("topBarTitle","Daily Tracker")("regions",e.regions)}}function b(e,t){if(1&e&&(r.Ob(0,"p",12),r.qc(1,"Reset in "),r.Kb(2,"br"),r.qc(3),r.Nb()),2&e){const e=r.Yb();r.zb(3),r.sc(" ",e.timerString,"")}}function h(e,t){1&e&&(r.Ob(0,"div"),r.qc(1,' All dailies are disabled, click on the "Edit Dailies" button to enable dailies. '),r.Nb())}function C(e,t){if(1&e){const e=r.Pb();r.Mb(0),r.Ob(1,"app-task-group",13),r.Vb("changeEvent",function(){return r.lc(e),r.Yb().changeHandler()}),r.Nb(),r.Lb()}if(2&e){const e=t.$implicit,a=r.Yb();r.zb(1),r.bc("taskData",a.dailiesData)("taskGroup",e)("title",e.title)}}const D=[{path:"",component:(()=>{class e{constructor(e,t,a){this.titleService=e,this.metaService=t,this.taskService=a,this.initialisationComplete=!1,this.characterIndex=0,this.regions=[{resetUtcOffset:0,name:"GMS"},{resetUtcOffset:8,name:"MSEA"},{resetUtcOffset:9,name:"KMS"}]}ngOnInit(){this.titleService.setTitle("Maplestory Dailies Tracker | Random Stuff"),this.metaService.updateTag({name:"description",content:"A dailies tracker for Maplestory to keep track of your completed daily tasks. Keep track of your dailies across multiple different characters."}),this.metaService.getTag("name='robots'")?this.metaService.updateTag({name:"robots",content:"index, follow"}):this.metaService.addTag({name:"robots",content:"index, follow"}),this.initialise()}ngOnDestroy(){this.timer&&clearInterval(this.timer)}initialise(){localStorage.getItem("dailiesDataV3")?(this.dailiesData=JSON.parse(localStorage.getItem("dailiesDataV3")),void 0===this.dailiesData.mapleRegion&&(this.dailiesData.mapleRegion={resetUtcOffset:0,name:"GMS"}),this.dailiesData.editModeActive=!1,this.dailyResetChecker(),this.updateChecker(),this.checkIfAllGroupsAreDisabled()):localStorage.getItem("dailiesData")?(this.dailiesData=this.taskService.v2v3Updater("dailiesData"),this.changeHandler(),this.initialise()):this.dailiesData=this.taskService.initiateDataSet(s,4),this.startTimer(),this.initialisationComplete=!0}dailyResetChecker(){var e=this.calculateResetTime()-864e5;parseInt(this.dailiesData.lastTrackerVisit)<e&&this.taskService.resetCompletionAll(this.dailiesData),this.dailiesData.lastTrackerVisit=Date.now().toString(),this.changeHandler()}updateChecker(){this.dailiesData.version!=s.version&&(this.dailiesData=this.taskService.updateTaskStructure(this.dailiesData,s),this.changeHandler())}startTimer(){clearInterval(this.timer);var e=this.calculateResetTime();this.calculateAndOutPutTime(e-(new Date).getTime()),this.timer=setInterval(()=>{var t=e-(new Date).getTime();this.calculateAndOutPutTime(t),t<0&&(clearInterval(this.timer),this.liveReset())},1e3)}calculateResetTime(){var e=new Date,t=Date.UTC(e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate()+1,0,0,0,0);return(t-=60*this.dailiesData.mapleRegion.resetUtcOffset*60*1e3)<e.getTime()&&(t+=864e5),t}calculateAndOutPutTime(e){if(e<0)this.timerString="RESET!";else{var t=Math.floor(e%864e5/36e5),a=Math.floor(e%36e5/6e4),n=Math.floor(e%6e4/1e3);this.timerString=t+"h "+a+"m "+("00"+n).slice(-2)+"s "}}liveReset(){this.taskService.resetCompletionAll(this.dailiesData),this.startTimer(),this.dailiesData.lastTrackerVisit=(parseInt(Date.now().toString())+5e3).toString(),this.changeHandler()}checkIfAllGroupsAreDisabled(){this.allGroupsAreDisabled=!this.dailiesData.characters[this.dailiesData.selectedCharacterIndex].taskGroups.some(e=>!e.allDisabled)}addCharacter(){this.taskService.addCharacter(this.dailiesData,s),this.changeHandler()}infoReset(){localStorage.removeItem("dailies"),localStorage.removeItem("dailiesData"),localStorage.removeItem("dailiesDataV3"),this.initialise(),this.dailiesData.infoVisible=!0}infoDismiss(){this.dailiesData.infoVisible=!1,this.changeHandler()}changeHandler(){localStorage.setItem("dailiesDataV3",JSON.stringify(this.dailiesData)),this.checkIfAllGroupsAreDisabled()}regionChangeHandler(){this.dailyResetChecker(),this.startTimer()}}return e.\u0275fac=function(t){return new(t||e)(r.Jb(l.c),r.Jb(l.b),r.Jb(o.a))},e.\u0275cmp=r.Db({type:e,selectors:[["app-maplestory-dailies-v3"]],decls:9,vars:6,consts:[["class","info",4,"ngIf"],[1,"gamePageContent"],[3,"taskData","topBarTitle","editButtonTitle","changeEvent",4,"ngIf"],[3,"taskData","topBarTitle","regions","changeEvent","regionChangeEvent","addCharacterEvent",4,"ngIf"],["class","timer",4,"ngIf"],[1,"dailyGroups"],[4,"ngIf"],[4,"ngFor","ngForOf"],[1,"info"],[1,"buttonStyle",3,"click"],[3,"taskData","topBarTitle","editButtonTitle","changeEvent"],[3,"taskData","topBarTitle","regions","changeEvent","regionChangeEvent","addCharacterEvent"],[1,"timer"],[3,"taskData","taskGroup","title","changeEvent"]],template:function(e,t){1&e&&(r.Kb(0,"app-maplestory-side-navigation"),r.pc(1,g,15,0,"div",0),r.Ob(2,"div",1),r.pc(3,m,1,3,"app-task-topbar-default",2),r.pc(4,f,1,3,"app-task-topbar-editmode",3),r.pc(5,b,4,1,"p",4),r.Ob(6,"div",5),r.pc(7,h,2,0,"div",6),r.pc(8,C,2,3,"ng-container",7),r.Nb(),r.Nb()),2&e&&(r.zb(1),r.bc("ngIf",!t.initialisationComplete||t.dailiesData.infoVisible),r.zb(2),r.bc("ngIf",!t.dailiesData.editModeActive),r.zb(1),r.bc("ngIf",t.dailiesData.editModeActive),r.zb(1),r.bc("ngIf",!t.dailiesData.editModeActive),r.zb(2),r.bc("ngIf",t.allGroupsAreDisabled&&!t.dailiesData.editModeActive),r.zb(1),r.bc("ngForOf",t.dailiesData.characters[t.dailiesData.selectedCharacterIndex].taskGroups))},directives:[d.a,n.k,n.j,p.a,u.a,c.a],styles:[".gamePageContent[_ngcontent-%COMP%]{position:relative;padding-bottom:8px;margin-bottom:8px}.disableMode[_ngcontent-%COMP%]{width:100px;height:50px}.dailyGroups[_ngcontent-%COMP%]{height:100%;max-width:828px;margin:0 auto;overflow:hidden;text-align:center}.timer[_ngcontent-%COMP%]{position:absolute;top:0;left:0;margin:8px 0 0 8px;text-align:center;font-size:16px;padding:3px;border:2px solid var(--game-page-border-color)}.buttonWrapper[_ngcontent-%COMP%]{width:175px;margin:0 auto}.buttonWrapper[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin:0}.buttonWrapper[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%]{float:left}.buttonWrapper[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]{float:right}.info[_ngcontent-%COMP%]{width:1130px;background-color:var(--game-page-background-color);border:1px solid var(--game-page-border-color);margin:8px auto}.info[_ngcontent-%COMP%], .info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{text-align:center}.info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{max-width:600px;margin:0 auto;padding-top:8px}.info[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-bottom:8px}@media only screen and (max-width:1635px){.info[_ngcontent-%COMP%]{float:left;margin:unset;margin-top:8px;margin-left:9px}}@media only screen and (max-width:1391px){.info[_ngcontent-%COMP%]{width:calc(100% - 262px)}}@media only screen and (max-width:1190px){.dailyGroups[_ngcontent-%COMP%]{max-width:552px}}@media only screen and (max-width:576px){.dailyGroups[_ngcontent-%COMP%]{max-width:276px}}@media only screen and (max-width:813px){.info[_ngcontent-%COMP%]{margin-left:8px;margin-right:8px;width:calc(100% - 18px)}}"]}),e})()}];let y=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=r.Hb({type:e}),e.\u0275inj=r.Gb({imports:[[i.d.forChild(D)],i.d]}),e})();var v=a("I9VR"),k=a("Svul");let M=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=r.Hb({type:e}),e.\u0275inj=r.Gb({imports:[[n.b,y,v.a,k.a],k.a]}),e})()}}]);